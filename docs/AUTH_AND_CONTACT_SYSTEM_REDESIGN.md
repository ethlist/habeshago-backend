# HabeshaGo Authentication & Contact System Redesign

## Complete Design Document

---

## Table of Contents

1. [Overview](#1-overview)
2. [Authentication System](#2-authentication-system)
3. [Contact Method System](#3-contact-method-system)
4. [Contact Protection Flow](#4-contact-protection-flow)
5. [Report System](#5-report-system)
6. [Database Changes](#6-database-changes)
7. [API Changes](#7-api-changes)
8. [Frontend Changes](#8-frontend-changes)
9. [Migration Plan](#9-migration-plan)
10. [What Gets Removed](#10-what-gets-removed)

---

## 1. Overview

### Current State
- Email/password registration
- Telegram sign-in (Mini App + Web Widget)
- Phone OTP verification for contact method
- Contact info always visible

### New State
- **Google OR Telegram sign-in only** (no email/password)
- **No phone OTP** (removed entirely)
- Contact info **hidden until request accepted**
- **Report system** for bad actors

### Core Principles

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                                                             â”‚
â”‚   OLD MODEL                    NEW MODEL                    â”‚
â”‚   â”€â”€â”€â”€â”€â”€â”€â”€â”€                    â”€â”€â”€â”€â”€â”€â”€â”€â”€                    â”‚
â”‚                                                             â”‚
â”‚   Email/Password               Google OR Telegram           â”‚
â”‚   + Phone OTP                  (OAuth only)                 â”‚
â”‚        â”‚                              â”‚                     â”‚
â”‚        â–¼                              â–¼                     â”‚
â”‚   Verify phone                 Already verified             â”‚
â”‚   to transact                  by Google/Telegram           â”‚
â”‚        â”‚                              â”‚                     â”‚
â”‚        â–¼                              â–¼                     â”‚
â”‚   Contact info                 Contact info HIDDEN          â”‚
â”‚   always visible               until accepted               â”‚
â”‚                                       â”‚                     â”‚
â”‚                                       â–¼                     â”‚
â”‚                                Report system                â”‚
â”‚                                for bad actors               â”‚
â”‚                                                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### Target Audience

**This redesign is primarily for WEB USERS.** Telegram Mini App users continue to use the existing Telegram authentication flow.

### Authentication Requirements by Action

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                                                             â”‚
â”‚   WHAT REQUIRES LOGIN?                                      â”‚
â”‚                                                             â”‚
â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚   â”‚                                                     â”‚   â”‚
â”‚   â”‚   NO LOGIN REQUIRED (Anyone can browse):            â”‚   â”‚
â”‚   â”‚   â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€             â”‚   â”‚
â”‚   â”‚   âœ“ View homepage                                   â”‚   â”‚
â”‚   â”‚   âœ“ Browse all trips                                â”‚   â”‚
â”‚   â”‚   âœ“ Search trips (by city, date)                    â”‚   â”‚
â”‚   â”‚   âœ“ View trip details (contact hidden)              â”‚   â”‚
â”‚   â”‚   âœ“ View traveler public profile                    â”‚   â”‚
â”‚   â”‚                                                     â”‚   â”‚
â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                                             â”‚
â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚   â”‚                                                     â”‚   â”‚
â”‚   â”‚   LOGIN REQUIRED (Must sign in):                    â”‚   â”‚
â”‚   â”‚   â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€                    â”‚   â”‚
â”‚   â”‚   âœ“ Create a trip                                   â”‚   â”‚
â”‚   â”‚   âœ“ Send a request to a traveler                    â”‚   â”‚
â”‚   â”‚   âœ“ View your own trips                             â”‚   â”‚
â”‚   â”‚   âœ“ View your own requests                          â”‚   â”‚
â”‚   â”‚   âœ“ Accept/decline requests                         â”‚   â”‚
â”‚   â”‚   âœ“ Edit profile                                    â”‚   â”‚
â”‚   â”‚   âœ“ Report issues                                   â”‚   â”‚
â”‚   â”‚                                                     â”‚   â”‚
â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                                             â”‚
â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚   â”‚                                                     â”‚   â”‚
â”‚   â”‚   LOGIN + CONTACT METHOD REQUIRED:                  â”‚   â”‚
â”‚   â”‚   â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€                  â”‚   â”‚
â”‚   â”‚   âœ“ Create a trip (must have at least one)          â”‚   â”‚
â”‚   â”‚   âœ“ Send a request (must have at least one)         â”‚   â”‚
â”‚   â”‚                                                     â”‚   â”‚
â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### User Journey: Browse â†’ Sign Up â†’ Transact

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                                                             â”‚
â”‚   TYPICAL USER JOURNEY                                      â”‚
â”‚                                                             â”‚
â”‚   1. USER DISCOVERS HABESHAGO                               â”‚
â”‚      â””â”€â”€ Lands on homepage                                  â”‚
â”‚          â””â”€â”€ NO login required                              â”‚
â”‚                                                             â”‚
â”‚   2. USER BROWSES TRIPS                                     â”‚
â”‚      â””â”€â”€ Searches: "Addis Ababa â†’ DC"                       â”‚
â”‚          â””â”€â”€ Sees list of available trips                   â”‚
â”‚              â””â”€â”€ NO login required                          â”‚
â”‚                                                             â”‚
â”‚   3. USER VIEWS TRIP DETAILS                                â”‚
â”‚      â””â”€â”€ Clicks on a trip                                   â”‚
â”‚          â””â”€â”€ Sees traveler name, date, capacity             â”‚
â”‚              â””â”€â”€ Contact info: "Sign in to request"         â”‚
â”‚                  â””â”€â”€ NO login required to VIEW              â”‚
â”‚                                                             â”‚
â”‚   4. USER WANTS TO SEND REQUEST                             â”‚
â”‚      â””â”€â”€ Clicks "Request to Send Item"                      â”‚
â”‚          â””â”€â”€ Prompted: "Sign in to continue"                â”‚
â”‚              â””â”€â”€ Shows Google + Telegram buttons            â”‚
â”‚                  â””â”€â”€ LOGIN REQUIRED                         â”‚
â”‚                                                             â”‚
â”‚   5. USER SIGNS IN WITH GOOGLE                              â”‚
â”‚      â””â”€â”€ Account created automatically                      â”‚
â”‚          â””â”€â”€ Redirected back to trip                        â”‚
â”‚              â””â”€â”€ Now can send request                       â”‚
â”‚                  â””â”€â”€ Must add contact method first          â”‚
â”‚                                                             â”‚
â”‚   6. USER ADDS CONTACT METHOD                               â”‚
â”‚      â””â”€â”€ Enters phone number                                â”‚
â”‚          â””â”€â”€ Now can send request                           â”‚
â”‚                                                             â”‚
â”‚   7. USER SENDS REQUEST                                     â”‚
â”‚      â””â”€â”€ Request sent, waiting for acceptance               â”‚
â”‚          â””â”€â”€ Contact info hidden until accepted             â”‚
â”‚                                                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## 2. Authentication System

### 2.1 Sign-In Options

**Only two ways to sign in:**

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                                                             â”‚
â”‚                       HABESHAGO                             â”‚
â”‚                                                             â”‚
â”‚               Send items with travelers                     â”‚
â”‚              between Ethiopia and the world                 â”‚
â”‚                                                             â”‚
â”‚                                                             â”‚
â”‚            â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”              â”‚
â”‚            â”‚                                 â”‚              â”‚
â”‚            â”‚   [G] Continue with Google      â”‚              â”‚
â”‚            â”‚                                 â”‚              â”‚
â”‚            â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜              â”‚
â”‚                                                             â”‚
â”‚            â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”              â”‚
â”‚            â”‚                                 â”‚              â”‚
â”‚            â”‚   [T] Continue with Telegram    â”‚              â”‚
â”‚            â”‚                                 â”‚              â”‚
â”‚            â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜              â”‚
â”‚                                                             â”‚
â”‚                                                             â”‚
â”‚      By continuing, you agree to our Terms of Service       â”‚
â”‚                    and Privacy Policy                       â”‚
â”‚                                                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 2.2 Authentication Flow

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                                                                  â”‚
â”‚   USER CLICKS "CONTINUE WITH GOOGLE" OR "CONTINUE WITH TELEGRAM" â”‚
â”‚                                                                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                 â”‚
                                 â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                                                                  â”‚
â”‚   OAuth provider authenticates user and returns:                 â”‚
â”‚                                                                  â”‚
â”‚   Google:                      Telegram:                         â”‚
â”‚   - google_id                  - telegram_user_id                â”‚
â”‚   - email                      - username (may be null)          â”‚
â”‚   - given_name                 - first_name                      â”‚
â”‚   - family_name                - last_name                       â”‚
â”‚                                                                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                 â”‚
                                 â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                                                                  â”‚
â”‚   BACKEND: Does user exist with this provider ID?                â”‚
â”‚                                                                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                 â”‚
               â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
               â”‚                                   â”‚
               â–¼                                   â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                          â”‚         â”‚                          â”‚
â”‚   YES - EXISTING USER    â”‚         â”‚   NO - NEW USER          â”‚
â”‚                          â”‚         â”‚                          â”‚
â”‚   1. Update profile info â”‚         â”‚   1. Create new account  â”‚
â”‚      if changed          â”‚         â”‚   2. Set identity as     â”‚
â”‚   2. Sync contact values â”‚         â”‚      verified            â”‚
â”‚      if username changed â”‚         â”‚   3. No contact method   â”‚
â”‚   3. Generate JWT        â”‚         â”‚      yet (must add)      â”‚
â”‚   4. Return user + token â”‚         â”‚   4. Generate JWT        â”‚
â”‚                          â”‚         â”‚   5. Return user + token â”‚
â”‚                          â”‚         â”‚                          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 2.3 New User First-Time Experience

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                                                             â”‚
â”‚   NEW USER SIGNS IN WITH GOOGLE                             â”‚
â”‚                                                             â”‚
â”‚   Account created with:                                     â”‚
â”‚   âœ“ Google ID linked                                        â”‚
â”‚   âœ“ Email from Google                                       â”‚
â”‚   âœ“ Name from Google                                        â”‚
â”‚   âœ“ Identity verified = TRUE                                â”‚
â”‚   âœ— No contact method yet                                   â”‚
â”‚                                                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                            â”‚
                            â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                                                             â”‚
â”‚   User can:                                                 â”‚
â”‚   âœ“ Browse trips                                            â”‚
â”‚   âœ“ View trip details                                       â”‚
â”‚   âœ“ View their profile                                      â”‚
â”‚   âœ— Create trips (needs contact method)                     â”‚
â”‚   âœ— Send requests (needs contact method)                    â”‚
â”‚                                                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                            â”‚
                            â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                                                             â”‚
â”‚   When user tries to create trip or send request:           â”‚
â”‚                                                             â”‚
â”‚   "Add a contact method to continue"                        â”‚
â”‚   â†’ Redirect to contact method setup                        â”‚
â”‚                                                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 2.4 Telegram User Without Username

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                                                             â”‚
â”‚   USER SIGNS IN WITH TELEGRAM (no @username set)            â”‚
â”‚                                                             â”‚
â”‚   Account created with:                                     â”‚
â”‚   âœ“ Telegram user ID linked                                 â”‚
â”‚   âœ“ Name from Telegram                                      â”‚
â”‚   âœ“ Identity verified = TRUE                                â”‚
â”‚   âœ— Username = NULL (they don't have one in Telegram)       â”‚
â”‚   âœ— No contact method yet                                   â”‚
â”‚                                                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                            â”‚
                            â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                                                             â”‚
â”‚   To transact, they MUST add a phone number                 â”‚
â”‚   (since they can't be contacted via Telegram)              â”‚
â”‚                                                             â”‚
â”‚   OR                                                        â”‚
â”‚                                                             â”‚
â”‚   Set a username in Telegram, then re-login to sync         â”‚
â”‚                                                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 2.5 Google Sign-In Technical Flow

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Frontend â”‚         â”‚ Backend  â”‚         â”‚  Google  â”‚
â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜         â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜         â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜
     â”‚                    â”‚                    â”‚
     â”‚ User clicks        â”‚                    â”‚
     â”‚ "Continue with     â”‚                    â”‚
     â”‚  Google"           â”‚                    â”‚
     â”‚                    â”‚                    â”‚
     â”‚ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–º â”‚
     â”‚        Redirect to Google OAuth         â”‚
     â”‚                                         â”‚
     â”‚ â—„â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ â”‚
     â”‚   User authorizes, Google returns       â”‚
     â”‚   ID token (JWT)                        â”‚
     â”‚                    â”‚                    â”‚
     â”‚ POST /auth/google  â”‚                    â”‚
     â”‚ { idToken: "..." } â”‚                    â”‚
     â”‚ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–ºâ”‚                    â”‚
     â”‚                    â”‚                    â”‚
     â”‚                    â”‚ Verify token       â”‚
     â”‚                    â”‚ with Google        â”‚
     â”‚                    â”‚ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–ºâ”‚
     â”‚                    â”‚                    â”‚
     â”‚                    â”‚ â—„â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚
     â”‚                    â”‚ { google_id,       â”‚
     â”‚                    â”‚   email,           â”‚
     â”‚                    â”‚   name }           â”‚
     â”‚                    â”‚                    â”‚
     â”‚                    â”‚ Find or create     â”‚
     â”‚                    â”‚ user, generate JWT â”‚
     â”‚                    â”‚                    â”‚
     â”‚ â—„â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚                    â”‚
     â”‚ { token, user }    â”‚                    â”‚
     â”‚                    â”‚                    â”‚
```

### 2.6 Linking Accounts

Users who sign in with Google can link their Telegram account (and vice versa).

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                                                             â”‚
â”‚   GOOGLE USER WANTS TO LINK TELEGRAM                        â”‚
â”‚                                                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                            â”‚
                            â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                                                             â”‚
â”‚   Profile Settings                                          â”‚
â”‚                                                             â”‚
â”‚   Connected Accounts:                                       â”‚
â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚   â”‚  Google      mike@gmail.com        âœ“ Connected      â”‚   â”‚
â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                                             â”‚
â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚   â”‚  Telegram    [Link Telegram Account]                â”‚   â”‚
â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                            â”‚
                    User clicks "Link"
                            â”‚
                            â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                                                             â”‚
â”‚   Telegram Login Widget appears                             â”‚
â”‚   User authorizes                                           â”‚
â”‚                                                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                            â”‚
                            â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                                                             â”‚
â”‚   Backend links Telegram to existing account:               â”‚
â”‚                                                             â”‚
â”‚   Before:                      After:                       â”‚
â”‚   - google_id: "123..."        - google_id: "123..."        â”‚
â”‚   - telegram_user_id: NULL     - telegram_user_id: "456..." â”‚
â”‚   - username: NULL             - username: "@mikeuser"      â”‚
â”‚                                                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## 3. Contact Method System

### 3.1 Contact Method Options

Users can have **one or both** contact methods:

| Method | Source | Verification |
|--------|--------|--------------|
| Telegram | From Telegram sign-in (username) | Verified by Telegram |
| Phone | User enters manually | NOT verified (no OTP) |

### 3.2 Contact Method Rules

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                                                             â”‚
â”‚   CONTACT METHOD RULES                                      â”‚
â”‚                                                             â”‚
â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚   â”‚                                                     â”‚   â”‚
â”‚   â”‚   To create trips or send requests:                 â”‚   â”‚
â”‚   â”‚                                                     â”‚   â”‚
â”‚   â”‚   âœ“ Must have AT LEAST ONE contact method           â”‚   â”‚
â”‚   â”‚   âœ“ Can have BOTH (Telegram + Phone)                â”‚   â”‚
â”‚   â”‚   âœ“ Phone number is NOT verified (no OTP)           â”‚   â”‚
â”‚   â”‚   âœ“ Telegram username comes from Telegram account   â”‚   â”‚
â”‚   â”‚                                                     â”‚   â”‚
â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                                             â”‚
â”‚   Contact method combinations:                              â”‚
â”‚                                                             â”‚
â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”‚
â”‚   â”‚ Telegram      â”‚ Phone         â”‚ Can Transact?    â”‚      â”‚
â”‚   â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤      â”‚
â”‚   â”‚ âœ“ Has         â”‚ âœ— None        â”‚ âœ“ Yes            â”‚      â”‚
â”‚   â”‚ âœ— None        â”‚ âœ“ Has         â”‚ âœ“ Yes            â”‚      â”‚
â”‚   â”‚ âœ“ Has         â”‚ âœ“ Has         â”‚ âœ“ Yes            â”‚      â”‚
â”‚   â”‚ âœ— None        â”‚ âœ— None        â”‚ âœ— No             â”‚      â”‚
â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜      â”‚
â”‚                                                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 3.3 Adding Contact Methods - Profile Settings

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                                                             â”‚
â”‚   PROFILE SETTINGS - Contact Methods                        â”‚
â”‚                                                             â”‚
â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚   â”‚                                                     â”‚   â”‚
â”‚   â”‚   How can others contact you?                       â”‚   â”‚
â”‚   â”‚   (Select at least one)                             â”‚   â”‚
â”‚   â”‚                                                     â”‚   â”‚
â”‚   â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚   â”‚
â”‚   â”‚   â”‚                                             â”‚   â”‚   â”‚
â”‚   â”‚   â”‚   â˜‘ Telegram                                â”‚   â”‚   â”‚
â”‚   â”‚   â”‚     @mikeuser                               â”‚   â”‚   â”‚
â”‚   â”‚   â”‚     âœ“ From your Telegram account            â”‚   â”‚   â”‚
â”‚   â”‚   â”‚                                             â”‚   â”‚   â”‚
â”‚   â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚   â”‚
â”‚   â”‚                                                     â”‚   â”‚
â”‚   â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚   â”‚
â”‚   â”‚   â”‚                                             â”‚   â”‚   â”‚
â”‚   â”‚   â”‚   â˜‘ Phone                                   â”‚   â”‚   â”‚
â”‚   â”‚   â”‚     [+1] [555-123-4567        ]             â”‚   â”‚   â”‚
â”‚   â”‚   â”‚                                             â”‚   â”‚   â”‚
â”‚   â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚   â”‚
â”‚   â”‚                                                     â”‚   â”‚
â”‚   â”‚   [Save Contact Methods]                            â”‚   â”‚
â”‚   â”‚                                                     â”‚   â”‚
â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                                             â”‚
â”‚   â“˜ Your contact info is only shared with the other        â”‚
â”‚     party after a request is accepted.                      â”‚
â”‚                                                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 3.4 Google User Adding Contact Methods

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                                                             â”‚
â”‚   GOOGLE USER (No Telegram linked)                          â”‚
â”‚                                                             â”‚
â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚   â”‚                                                     â”‚   â”‚
â”‚   â”‚   How can others contact you?                       â”‚   â”‚
â”‚   â”‚   (Select at least one)                             â”‚   â”‚
â”‚   â”‚                                                     â”‚   â”‚
â”‚   â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚   â”‚
â”‚   â”‚   â”‚                                             â”‚   â”‚   â”‚
â”‚   â”‚   â”‚   â˜ Telegram                                â”‚   â”‚   â”‚
â”‚   â”‚   â”‚     [Link Telegram Account]                 â”‚   â”‚   â”‚
â”‚   â”‚   â”‚     Connect your Telegram to use it as      â”‚   â”‚   â”‚
â”‚   â”‚   â”‚     a contact method                        â”‚   â”‚   â”‚
â”‚   â”‚   â”‚                                             â”‚   â”‚   â”‚
â”‚   â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚   â”‚
â”‚   â”‚                                                     â”‚   â”‚
â”‚   â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚   â”‚
â”‚   â”‚   â”‚                                             â”‚   â”‚   â”‚
â”‚   â”‚   â”‚   â˜‘ Phone                                   â”‚   â”‚   â”‚
â”‚   â”‚   â”‚     [+1] [555-123-4567        ]             â”‚   â”‚   â”‚
â”‚   â”‚   â”‚                                             â”‚   â”‚   â”‚
â”‚   â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚   â”‚
â”‚   â”‚                                                     â”‚   â”‚
â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 3.5 Contact Method Sync

When a user's Telegram username changes, it automatically syncs:

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                                                             â”‚
â”‚   USER LOGS IN WITH TELEGRAM                                â”‚
â”‚                                                             â”‚
â”‚   Backend checks: Has username changed?                     â”‚
â”‚                                                             â”‚
â”‚   If YES:                                                   â”‚
â”‚   1. Update user.username                                   â”‚
â”‚   2. Update all trips with contact_telegram                 â”‚
â”‚   3. Update all requests with sender_contact_telegram       â”‚
â”‚   4. Log the sync                                           â”‚
â”‚                                                             â”‚
â”‚   This ensures contact info stays current!                  â”‚
â”‚                                                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## 4. Contact Protection Flow

### 4.1 Core Concept

**Contact information is HIDDEN until the traveler accepts the request.**

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                                                             â”‚
â”‚   CONTACT INFO VISIBILITY                                   â”‚
â”‚                                                             â”‚
â”‚   Request Status        Sender Sees       Traveler Sees     â”‚
â”‚   â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€        â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€       â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€     â”‚
â”‚   PENDING               Own info only     Name only         â”‚
â”‚                                           (no contact)      â”‚
â”‚                                                             â”‚
â”‚   ACCEPTED              Both contacts     Both contacts     â”‚
â”‚                         revealed          revealed          â”‚
â”‚                                                             â”‚
â”‚   REJECTED              Own info only     N/A               â”‚
â”‚                                                             â”‚
â”‚   CANCELLED             Own info only     N/A               â”‚
â”‚                                                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 4.2 Sender Views Trip (Before Request)

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                                                             â”‚
â”‚   SENDER VIEWS TRIP                                         â”‚
â”‚                                                             â”‚
â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚   â”‚                                                     â”‚   â”‚
â”‚   â”‚   Addis Ababa â†’ Washington DC                       â”‚   â”‚
â”‚   â”‚   December 20, 2024                                 â”‚   â”‚
â”‚   â”‚                                                     â”‚   â”‚
â”‚   â”‚   Traveler: Abebe T.                                â”‚   â”‚
â”‚   â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”  â˜… 4.8 (12 trips)                        â”‚   â”‚
â”‚   â”‚   â”‚  ğŸ‘¤  â”‚  âœ“ Verified                              â”‚   â”‚
â”‚   â”‚   â””â”€â”€â”€â”€â”€â”€â”˜                                          â”‚   â”‚
â”‚   â”‚                                                     â”‚   â”‚
â”‚   â”‚   Capacity: 5kg available                           â”‚   â”‚
â”‚   â”‚   Notes: "Can carry documents and small packages"   â”‚   â”‚
â”‚   â”‚                                                     â”‚   â”‚
â”‚   â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”‚   â”‚
â”‚   â”‚   â”‚  Contact info shown after request accepted â”‚     â”‚   â”‚
â”‚   â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â”‚   â”‚
â”‚   â”‚                                                     â”‚   â”‚
â”‚   â”‚   [Request to Send Item]                            â”‚   â”‚
â”‚   â”‚                                                     â”‚   â”‚
â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 4.3 Sender Creates Request

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                                                             â”‚
â”‚   SEND REQUEST                                              â”‚
â”‚                                                             â”‚
â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚   â”‚                                                     â”‚   â”‚
â”‚   â”‚   What are you sending?                             â”‚   â”‚
â”‚   â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚   â”‚
â”‚   â”‚   â”‚ Documents - University transcripts          â”‚   â”‚   â”‚
â”‚   â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚   â”‚
â”‚   â”‚                                                     â”‚   â”‚
â”‚   â”‚   Estimated weight                                  â”‚   â”‚
â”‚   â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚   â”‚
â”‚   â”‚   â”‚ 0.5 kg                                      â”‚   â”‚   â”‚
â”‚   â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚   â”‚
â”‚   â”‚                                                     â”‚   â”‚
â”‚   â”‚   Special instructions (optional)                   â”‚   â”‚
â”‚   â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚   â”‚
â”‚   â”‚   â”‚ Please handle with care                     â”‚   â”‚   â”‚
â”‚   â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚   â”‚
â”‚   â”‚                                                     â”‚   â”‚
â”‚   â”‚   â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€     â”‚   â”‚
â”‚   â”‚                                                     â”‚   â”‚
â”‚   â”‚   Your contact method for this request:             â”‚   â”‚
â”‚   â”‚                                                     â”‚   â”‚
â”‚   â”‚   â˜‘ Telegram (@mikeuser)                            â”‚   â”‚
â”‚   â”‚   â˜‘ Phone (+1 555-123-4567)                         â”‚   â”‚
â”‚   â”‚                                                     â”‚   â”‚
â”‚   â”‚   â“˜ Only shared after traveler accepts              â”‚   â”‚
â”‚   â”‚                                                     â”‚   â”‚
â”‚   â”‚   [Submit Request]                                  â”‚   â”‚
â”‚   â”‚                                                     â”‚   â”‚
â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 4.4 Traveler Sees Request (Contact Hidden)

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                                                             â”‚
â”‚   NEW REQUEST                                               â”‚
â”‚                                                             â”‚
â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚   â”‚                                                     â”‚   â”‚
â”‚   â”‚   From: Michael T.                                  â”‚   â”‚
â”‚   â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”                                          â”‚   â”‚
â”‚   â”‚   â”‚  ğŸ‘¤  â”‚  Joined Dec 2024                         â”‚   â”‚
â”‚   â”‚   â””â”€â”€â”€â”€â”€â”€â”˜  âœ“ Verified via Google                   â”‚   â”‚
â”‚   â”‚                                                     â”‚   â”‚
â”‚   â”‚   â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€     â”‚   â”‚
â”‚   â”‚                                                     â”‚   â”‚
â”‚   â”‚   Item: Documents - University transcripts          â”‚   â”‚
â”‚   â”‚   Weight: 0.5 kg                                    â”‚   â”‚
â”‚   â”‚   Instructions: Please handle with care             â”‚   â”‚
â”‚   â”‚                                                     â”‚   â”‚
â”‚   â”‚   â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€     â”‚   â”‚
â”‚   â”‚                                                     â”‚   â”‚
â”‚   â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”‚   â”‚
â”‚   â”‚   â”‚  ğŸ”’ Contact info revealed after you accept â”‚     â”‚   â”‚
â”‚   â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â”‚   â”‚
â”‚   â”‚                                                     â”‚   â”‚
â”‚   â”‚   [Accept]              [Decline]                   â”‚   â”‚
â”‚   â”‚                                                     â”‚   â”‚
â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 4.5 After Traveler Accepts - Contact Revealed (Traveler View)

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                                                             â”‚
â”‚   âœ“ REQUEST ACCEPTED                                        â”‚
â”‚                                                             â”‚
â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚   â”‚                                                     â”‚   â”‚
â”‚   â”‚   You accepted Michael's request.                   â”‚   â”‚
â”‚   â”‚   Contact them to arrange pickup.                   â”‚   â”‚
â”‚   â”‚                                                     â”‚   â”‚
â”‚   â”‚   â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€     â”‚   â”‚
â”‚   â”‚                                                     â”‚   â”‚
â”‚   â”‚   SENDER CONTACT INFO                               â”‚   â”‚
â”‚   â”‚                                                     â”‚   â”‚
â”‚   â”‚   Michael T.                                        â”‚   â”‚
â”‚   â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”  âœ“ Verified                              â”‚   â”‚
â”‚   â”‚   â”‚  ğŸ‘¤  â”‚                                          â”‚   â”‚
â”‚   â”‚   â””â”€â”€â”€â”€â”€â”€â”˜                                          â”‚   â”‚
â”‚   â”‚                                                     â”‚   â”‚
â”‚   â”‚   ğŸ’¬ Telegram: @mikeuser                            â”‚   â”‚
â”‚   â”‚      [Open in Telegram]                             â”‚   â”‚
â”‚   â”‚                                                     â”‚   â”‚
â”‚   â”‚   ğŸ“± Phone: +1 555-123-4567                         â”‚   â”‚
â”‚   â”‚      [Call]  [WhatsApp]  [Copy]                     â”‚   â”‚
â”‚   â”‚                                                     â”‚   â”‚
â”‚   â”‚   â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€     â”‚   â”‚
â”‚   â”‚                                                     â”‚   â”‚
â”‚   â”‚   Can't reach them?                                 â”‚   â”‚
â”‚   â”‚   [Report Issue]                                    â”‚   â”‚
â”‚   â”‚                                                     â”‚   â”‚
â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 4.6 After Traveler Accepts - Contact Revealed (Sender View)

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                                                             â”‚
â”‚   âœ“ YOUR REQUEST WAS ACCEPTED!                              â”‚
â”‚                                                             â”‚
â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚   â”‚                                                     â”‚   â”‚
â”‚   â”‚   Abebe accepted your request.                      â”‚   â”‚
â”‚   â”‚   Contact them to arrange handoff.                  â”‚   â”‚
â”‚   â”‚                                                     â”‚   â”‚
â”‚   â”‚   â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€     â”‚   â”‚
â”‚   â”‚                                                     â”‚   â”‚
â”‚   â”‚   TRAVELER CONTACT INFO                             â”‚   â”‚
â”‚   â”‚                                                     â”‚   â”‚
â”‚   â”‚   Abebe T.                                          â”‚   â”‚
â”‚   â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”  â˜… 4.8 (12 trips)                        â”‚   â”‚
â”‚   â”‚   â”‚  ğŸ‘¤  â”‚  âœ“ Verified                              â”‚   â”‚
â”‚   â”‚   â””â”€â”€â”€â”€â”€â”€â”˜                                          â”‚   â”‚
â”‚   â”‚                                                     â”‚   â”‚
â”‚   â”‚   ğŸ’¬ Telegram: @abebe_t                             â”‚   â”‚
â”‚   â”‚      [Open in Telegram]                             â”‚   â”‚
â”‚   â”‚                                                     â”‚   â”‚
â”‚   â”‚   ğŸ“± Phone: +251 91 234 5678                        â”‚   â”‚
â”‚   â”‚      [Call]  [WhatsApp]  [Copy]                     â”‚   â”‚
â”‚   â”‚                                                     â”‚   â”‚
â”‚   â”‚   â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€     â”‚   â”‚
â”‚   â”‚                                                     â”‚   â”‚
â”‚   â”‚   Can't reach them?                                 â”‚   â”‚
â”‚   â”‚   [Report Issue]                                    â”‚   â”‚
â”‚   â”‚                                                     â”‚   â”‚
â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 4.7 Contact Protection Summary

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                                                             â”‚
â”‚   WHY CONTACT PROTECTION MATTERS                            â”‚
â”‚                                                             â”‚
â”‚   Without protection:                                       â”‚
â”‚   - Spammers can harvest phone numbers                      â”‚
â”‚   - Fake accounts can collect contact info                  â”‚
â”‚   - No commitment before sharing personal data              â”‚
â”‚                                                             â”‚
â”‚   With protection:                                          â”‚
â”‚   - Contact info only shared after mutual commitment        â”‚
â”‚   - Fake accounts have no benefit (can't get contact info)  â”‚
â”‚   - Both parties are invested before sharing                â”‚
â”‚   - Bad actors exposed on first transaction                 â”‚
â”‚                                                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## 5. Report System

### 5.1 Report Flow

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                                                             â”‚
â”‚   USER CLICKS "REPORT ISSUE"                                â”‚
â”‚                                                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                            â”‚
                            â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                                                             â”‚
â”‚   REPORT AN ISSUE                                           â”‚
â”‚                                                             â”‚
â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚   â”‚                                                     â”‚   â”‚
â”‚   â”‚   What happened?                                    â”‚   â”‚
â”‚   â”‚                                                     â”‚   â”‚
â”‚   â”‚   â—‹ Phone number doesn't work                       â”‚   â”‚
â”‚   â”‚   â—‹ Telegram username doesn't exist                 â”‚   â”‚
â”‚   â”‚   â—‹ Wrong person / not who they claimed             â”‚   â”‚
â”‚   â”‚   â—‹ Person is unresponsive                          â”‚   â”‚
â”‚   â”‚   â—‹ Inappropriate behavior                          â”‚   â”‚
â”‚   â”‚   â—‹ Suspected scam                                  â”‚   â”‚
â”‚   â”‚   â—‹ Other                                           â”‚   â”‚
â”‚   â”‚                                                     â”‚   â”‚
â”‚   â”‚   Additional details (optional):                    â”‚   â”‚
â”‚   â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚   â”‚
â”‚   â”‚   â”‚                                             â”‚   â”‚   â”‚
â”‚   â”‚   â”‚                                             â”‚   â”‚   â”‚
â”‚   â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚   â”‚
â”‚   â”‚                                                     â”‚   â”‚
â”‚   â”‚   [Submit Report]                                   â”‚   â”‚
â”‚   â”‚                                                     â”‚   â”‚
â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                            â”‚
                            â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                                                             â”‚
â”‚   SYSTEM ACTIONS                                            â”‚
â”‚                                                             â”‚
â”‚   1. Report saved to database                               â”‚
â”‚   2. Reported user's report_count incremented               â”‚
â”‚   3. If report_count >= threshold:                          â”‚
â”‚      - User flagged for review                              â”‚
â”‚      - Or auto-suspended                                    â”‚
â”‚   4. Reporter can cancel request if needed                  â”‚
â”‚   5. Admin notified for review                              â”‚
â”‚                                                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 5.2 Report Reasons and Actions

| Reason | Severity | Automatic Action |
|--------|----------|------------------|
| Phone doesn't work | Medium | Flag contact method, warn user |
| Telegram doesn't exist | Medium | Flag contact method, warn user |
| Wrong person | High | Flag for admin review |
| Unresponsive | Low | Soft warning, track pattern |
| Inappropriate behavior | High | Admin review, possible ban |
| Suspected scam | Critical | Immediate flag, admin review |

### 5.3 Trust Score System

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                                                             â”‚
â”‚   TRUST SCORE SYSTEM                                        â”‚
â”‚                                                             â”‚
â”‚   Every user has:                                           â”‚
â”‚   - trust_score (default: 100)                              â”‚
â”‚   - report_count (default: 0)                               â”‚
â”‚                                                             â”‚
â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚   â”‚                                                     â”‚   â”‚
â”‚   â”‚   Event                      Trust Impact           â”‚   â”‚
â”‚   â”‚   â”€â”€â”€â”€â”€                      â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€           â”‚   â”‚
â”‚   â”‚   Successful delivery        +5                     â”‚   â”‚
â”‚   â”‚   Positive review            +3                     â”‚   â”‚
â”‚   â”‚   Report: unresponsive       -5                     â”‚   â”‚
â”‚   â”‚   Report: bad contact        -10                    â”‚   â”‚
â”‚   â”‚   Report: suspected scam     -50 + flag             â”‚   â”‚
â”‚   â”‚                                                     â”‚   â”‚
â”‚   â”‚   Trust Score < 50:  Account flagged for review     â”‚   â”‚
â”‚   â”‚   Trust Score < 20:  Account suspended              â”‚   â”‚
â”‚   â”‚   Report Count >= 3: Account flagged for review     â”‚   â”‚
â”‚   â”‚                                                     â”‚   â”‚
â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 5.4 User Profile Trust Indicators

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                                                             â”‚
â”‚   WHAT OTHER USERS SEE                                      â”‚
â”‚                                                             â”‚
â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚   â”‚                                                     â”‚   â”‚
â”‚   â”‚   Abebe T.                                          â”‚   â”‚
â”‚   â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”                                          â”‚   â”‚
â”‚   â”‚   â”‚  ğŸ‘¤  â”‚  âœ“ Verified via Telegram                 â”‚   â”‚
â”‚   â”‚   â””â”€â”€â”€â”€â”€â”€â”˜  â˜… 4.8 (12 completed trips)              â”‚   â”‚
â”‚   â”‚             ğŸ“… Member since Oct 2024                â”‚   â”‚
â”‚   â”‚                                                     â”‚   â”‚
â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                                             â”‚
â”‚   Trust indicators shown:                                   â”‚
â”‚   - Verification method (Google/Telegram)                   â”‚
â”‚   - Rating and review count                                 â”‚
â”‚   - Completed trips/deliveries                              â”‚
â”‚   - Account age                                             â”‚
â”‚                                                             â”‚
â”‚   NOT shown:                                                â”‚
â”‚   - Trust score number                                      â”‚
â”‚   - Report count                                            â”‚
â”‚   - Internal flags                                          â”‚
â”‚                                                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## 6. Database Changes

### 6.1 Users Table Changes

```sql
-- Add new columns for Google auth
ALTER TABLE users ADD COLUMN google_id VARCHAR(255) UNIQUE;
ALTER TABLE users ADD COLUMN google_email VARCHAR(255);

-- Add identity verification tracking
ALTER TABLE users ADD COLUMN identity_verified BOOLEAN DEFAULT FALSE;
ALTER TABLE users ADD COLUMN identity_provider VARCHAR(20); -- 'GOOGLE', 'TELEGRAM'

-- Add trust system columns
ALTER TABLE users ADD COLUMN trust_score INTEGER DEFAULT 100;
ALTER TABLE users ADD COLUMN report_count INTEGER DEFAULT 0;

-- Add suspension columns
ALTER TABLE users ADD COLUMN suspended BOOLEAN DEFAULT FALSE;
ALTER TABLE users ADD COLUMN suspended_at TIMESTAMP;
ALTER TABLE users ADD COLUMN suspension_reason VARCHAR(500);

-- Add contact method preferences
ALTER TABLE users ADD COLUMN contact_telegram_enabled BOOLEAN DEFAULT FALSE;
ALTER TABLE users ADD COLUMN contact_phone_enabled BOOLEAN DEFAULT FALSE;

-- Add index for Google ID lookups
CREATE INDEX idx_users_google_id ON users(google_id);
```

### 6.2 Users Table - Columns to Remove (After Migration)

```sql
-- These columns become obsolete after migration
-- DROP after grace period for existing users

ALTER TABLE users DROP COLUMN password_hash;      -- No more email/password
ALTER TABLE users DROP COLUMN phone_verified;     -- No more OTP verification
ALTER TABLE users DROP COLUMN email_verified;     -- OAuth handles this
ALTER TABLE users DROP COLUMN verification_status; -- No more verification flow
```

### 6.3 Trips Table Changes

```sql
-- Add new contact columns (support multiple contact methods)
ALTER TABLE trips ADD COLUMN contact_telegram VARCHAR(50);
ALTER TABLE trips ADD COLUMN contact_phone VARCHAR(20);

-- Remove old single contact method columns (after migration)
ALTER TABLE trips DROP COLUMN contact_method;
ALTER TABLE trips DROP COLUMN contact_value;
```

### 6.4 Item Requests Table Changes

```sql
-- Add new contact columns
ALTER TABLE item_requests ADD COLUMN sender_contact_telegram VARCHAR(50);
ALTER TABLE item_requests ADD COLUMN sender_contact_phone VARCHAR(20);

-- Track when contact was revealed
ALTER TABLE item_requests ADD COLUMN contact_revealed_at TIMESTAMP;

-- Remove old single contact method columns (after migration)
ALTER TABLE item_requests DROP COLUMN sender_contact_method;
ALTER TABLE item_requests DROP COLUMN sender_contact_value;
```

### 6.5 New Reports Table

```sql
CREATE TABLE reports (
    id BIGSERIAL PRIMARY KEY,

    -- Who is reporting whom
    reporter_user_id BIGINT NOT NULL REFERENCES users(id),
    reported_user_id BIGINT NOT NULL REFERENCES users(id),

    -- Context (optional - which request/trip)
    request_id BIGINT REFERENCES item_requests(id),
    trip_id BIGINT REFERENCES trips(id),

    -- Report details
    reason VARCHAR(50) NOT NULL,
    details TEXT,

    -- Status tracking
    status VARCHAR(20) DEFAULT 'PENDING', -- PENDING, REVIEWED, RESOLVED, DISMISSED
    admin_notes TEXT,

    -- Timestamps
    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
    reviewed_at TIMESTAMP,
    reviewed_by BIGINT REFERENCES users(id)
);

-- Indexes for common queries
CREATE INDEX idx_reports_reported_user ON reports(reported_user_id);
CREATE INDEX idx_reports_reporter_user ON reports(reporter_user_id);
CREATE INDEX idx_reports_status ON reports(status);
CREATE INDEX idx_reports_created_at ON reports(created_at);
```

### 6.6 Report Reasons Enum

```sql
-- Report reason values
-- PHONE_NOT_WORKING
-- TELEGRAM_NOT_EXIST
-- WRONG_PERSON
-- UNRESPONSIVE
-- INAPPROPRIATE_BEHAVIOR
-- SUSPECTED_SCAM
-- OTHER
```

### 6.7 Complete Users Table Schema (After Changes)

```sql
CREATE TABLE users (
    id BIGSERIAL PRIMARY KEY,

    -- Identity providers (at least one required)
    telegram_user_id BIGINT UNIQUE,
    google_id VARCHAR(255) UNIQUE,

    -- Profile info
    first_name VARCHAR(100),
    last_name VARCHAR(100),
    username VARCHAR(50),              -- Telegram username
    google_email VARCHAR(255),         -- Email from Google

    -- Contact methods
    phone_number VARCHAR(20),
    contact_telegram_enabled BOOLEAN DEFAULT FALSE,
    contact_phone_enabled BOOLEAN DEFAULT FALSE,

    -- Identity verification
    identity_verified BOOLEAN DEFAULT FALSE,
    identity_provider VARCHAR(20),     -- 'GOOGLE' or 'TELEGRAM'

    -- Trust system
    trust_score INTEGER DEFAULT 100,
    report_count INTEGER DEFAULT 0,

    -- Account status
    suspended BOOLEAN DEFAULT FALSE,
    suspended_at TIMESTAMP,
    suspension_reason VARCHAR(500),

    -- Stats
    completed_trips_count INTEGER DEFAULT 0,
    completed_deliveries_count INTEGER DEFAULT 0,
    accepted_requests_count INTEGER DEFAULT 0,
    rating_sum INTEGER DEFAULT 0,
    rating_count INTEGER DEFAULT 0,
    rating_average DECIMAL(3,2),

    -- Profile
    profile_edited_by_user BOOLEAN DEFAULT FALSE,
    preferred_language VARCHAR(5) DEFAULT 'en',

    -- Verification (ID verification, separate from identity)
    verified BOOLEAN DEFAULT FALSE,
    selfie_url VARCHAR(500),
    id_photo_url VARCHAR(500),

    -- Timestamps
    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
    updated_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP
);
```

---

## 7. API Changes

### 7.1 Authentication Endpoints

#### Endpoints to REMOVE

```
POST /api/auth/web/login          -- No more email/password login
POST /api/auth/web/register       -- No more email/password registration
```

#### Endpoints to KEEP

```
POST /api/auth/telegram           -- Telegram Mini App authentication
POST /api/auth/telegram-web       -- Telegram Login Widget authentication
```

#### Endpoints to ADD

```
POST /api/auth/google             -- Google Sign-In (new)
POST /api/auth/link-telegram      -- Link Telegram to existing account (new)
POST /api/auth/link-google        -- Link Google to existing account (new)
```

### 7.2 Verification Endpoints

#### Endpoints to REMOVE (Entire phone OTP flow)

```
POST /api/verification/phone/send    -- No more OTP sending
POST /api/verification/phone/verify  -- No more OTP verification
```

#### Endpoints to KEEP

```
POST /api/verification/id/submit     -- ID document verification (separate feature)
GET  /api/verification/status        -- Modified: only returns ID verification status
```

### 7.3 Contact Method Endpoints

#### Endpoints to ADD

```
GET  /api/me/contact-methods         -- Get user's contact method settings
PUT  /api/me/contact-methods         -- Update contact method settings

Request body for PUT:
{
  "contactTelegramEnabled": true,
  "contactPhoneEnabled": true,
  "phoneNumber": "+1 555-123-4567"
}

Response:
{
  "username": "@mikeuser",           // From Telegram, read-only
  "contactTelegramEnabled": true,
  "phoneNumber": "+1 555-123-4567",
  "contactPhoneEnabled": true,
  "hasAtLeastOneMethod": true
}
```

### 7.4 Report Endpoints

#### Endpoints to ADD

```
POST /api/reports                    -- Create a report
{
  "reportedUserId": 123,
  "requestId": 456,                  // optional
  "tripId": 789,                     // optional
  "reason": "PHONE_NOT_WORKING",
  "details": "Called 3 times, no answer"
}

GET  /api/reports/my                 -- Get reports I've submitted

GET  /api/admin/reports              -- Admin: get all pending reports
PUT  /api/admin/reports/{id}         -- Admin: review/resolve a report
{
  "status": "RESOLVED",
  "adminNotes": "User warned, contact updated"
}
```

### 7.5 Modified Trip Endpoints

#### Create Trip - Modified Request

```
POST /api/trips

Request body (new fields):
{
  "fromCity": "Addis Ababa",
  "toCity": "Washington DC",
  "departureDate": "2024-12-20",
  ...
  "contactTelegram": "@abebe_t",     // Optional, from user's username
  "contactPhone": "+251 91 234 5678" // Optional, from user's phone

  // At least one contact method required
}
```

#### Get Trip - Modified Response

```
GET /api/trips/{id}

Response (contact hidden for non-accepted requests):
{
  "id": 123,
  "traveler": {
    "id": 1,
    "firstName": "Abebe",
    "lastName": "T.",
    "verified": true,
    "rating": 4.8,
    "completedTrips": 12
  },
  "fromCity": "Addis Ababa",
  "toCity": "Washington DC",
  ...

  // Contact info - only shown if user has accepted request for this trip
  "contactTelegram": null,           // Hidden
  "contactPhone": null,              // Hidden
  "contactHidden": true,
  "contactHiddenReason": "Accept a request to see contact info"
}
```

### 7.6 Modified Request Endpoints

#### Create Request - Modified Request

```
POST /api/trips/{tripId}/requests

Request body (new fields):
{
  "description": "Documents - University transcripts",
  "weightKg": 0.5,
  "specialInstructions": "Handle with care",
  "senderContactTelegram": "@mikeuser",    // Optional
  "senderContactPhone": "+1 555-123-4567"  // Optional

  // At least one contact method required
}
```

#### Get Request - Modified Response

```
GET /api/requests/{id}

Response for PENDING request (traveler view):
{
  "id": 456,
  "status": "PENDING",
  "sender": {
    "id": 2,
    "firstName": "Michael",
    "lastName": "T.",
    "verified": true,
    "identityProvider": "GOOGLE"
  },
  "description": "Documents - University transcripts",
  "weightKg": 0.5,
  ...

  // Contact HIDDEN
  "senderContactTelegram": null,
  "senderContactPhone": null,
  "contactHidden": true
}

Response for ACCEPTED request:
{
  "id": 456,
  "status": "ACCEPTED",
  ...

  // Contact REVEALED
  "senderContactTelegram": "@mikeuser",
  "senderContactPhone": "+1 555-123-4567",
  "contactHidden": false,
  "contactRevealedAt": "2024-12-15T10:30:00Z"
}
```

---

## 8. Frontend Changes

### 8.1 Pages to Modify

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                                                             â”‚
â”‚   PAGES TO MODIFY                                           â”‚
â”‚                                                             â”‚
â”‚   1. Login/Register Page                                    â”‚
â”‚      - Remove email/password form entirely                  â”‚
â”‚      - Show only Google + Telegram buttons                  â”‚
â”‚      - Update copy and styling                              â”‚
â”‚                                                             â”‚
â”‚   2. Profile/Settings Page                                  â”‚
â”‚      - Add "Contact Methods" section                        â”‚
â”‚      - Add "Connected Accounts" section                     â”‚
â”‚      - Add "Link Telegram" / "Link Google" buttons          â”‚
â”‚      - Remove phone verification section                    â”‚
â”‚                                                             â”‚
â”‚   3. Trip Detail Page                                       â”‚
â”‚      - Hide traveler contact until request accepted         â”‚
â”‚      - Show "Contact info revealed after acceptance"        â”‚
â”‚      - Show contact info after user's request is accepted   â”‚
â”‚                                                             â”‚
â”‚   4. Request Detail Page                                    â”‚
â”‚      - Hide sender contact info until accepted              â”‚
â”‚      - Show contact info after acceptance                   â”‚
â”‚      - Add "Report Issue" button                            â”‚
â”‚                                                             â”‚
â”‚   5. Create Trip Page                                       â”‚
â”‚      - Add contact method selection                         â”‚
â”‚      - Require at least one method                          â”‚
â”‚      - Show which methods user has available                â”‚
â”‚                                                             â”‚
â”‚   6. Send Request Page                                      â”‚
â”‚      - Add contact method selection                         â”‚
â”‚      - Require at least one method                          â”‚
â”‚      - Show privacy notice about contact protection         â”‚
â”‚                                                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 8.2 Pages/Components to Remove

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                                                             â”‚
â”‚   PAGES/COMPONENTS TO REMOVE                                â”‚
â”‚                                                             â”‚
â”‚   - EmailLoginForm component                                â”‚
â”‚   - EmailRegisterForm component                             â”‚
â”‚   - PasswordResetFlow (all pages)                           â”‚
â”‚   - PhoneVerificationFlow (all pages)                       â”‚
â”‚   - OtpInput component                                      â”‚
â”‚   - Phone verification status indicators                    â”‚
â”‚                                                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 8.3 New Components to Create

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                                                             â”‚
â”‚   NEW COMPONENTS                                            â”‚
â”‚                                                             â”‚
â”‚   1. GoogleSignInButton                                     â”‚
â”‚      - Uses @react-oauth/google library                     â”‚
â”‚      - Handles OAuth flow                                   â”‚
â”‚      - Sends token to backend                               â”‚
â”‚                                                             â”‚
â”‚   2. ContactMethodSelector                                  â”‚
â”‚      - Checkboxes for Telegram/Phone                        â”‚
â”‚      - Phone number input                                   â”‚
â”‚      - Validation (at least one required)                   â”‚
â”‚                                                             â”‚
â”‚   3. ContactInfoDisplay                                     â”‚
â”‚      - Shows contact info when revealed                     â”‚
â”‚      - Action buttons (Call, WhatsApp, Telegram, Copy)      â”‚
â”‚      - Hidden state with explanation                        â”‚
â”‚                                                             â”‚
â”‚   4. ReportIssueModal                                       â”‚
â”‚      - Report reason selection                              â”‚
â”‚      - Details text input                                   â”‚
â”‚      - Submit handling                                      â”‚
â”‚                                                             â”‚
â”‚   5. ConnectedAccounts                                      â”‚
â”‚      - Shows Google/Telegram connection status              â”‚
â”‚      - Link/Unlink buttons                                  â”‚
â”‚                                                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 8.4 AuthContext Changes

```typescript
// BEFORE: Multiple auth methods
interface User {
  id: string;
  email?: string;
  firstName: string;
  lastName: string;
  telegramUserId?: string;
  username?: string;
  phoneNumber?: string;
  phoneVerified?: boolean;
  verificationStatus?: string;
}

// AFTER: OAuth only, multiple contact methods
interface User {
  id: string;
  firstName: string;
  lastName: string;

  // Identity providers
  googleId?: string;
  googleEmail?: string;
  telegramUserId?: string;
  username?: string;  // Telegram username

  // Identity status
  identityVerified: boolean;
  identityProvider: 'GOOGLE' | 'TELEGRAM';

  // Contact methods
  phoneNumber?: string;
  contactTelegramEnabled: boolean;
  contactPhoneEnabled: boolean;

  // Trust indicators
  trustScore: number;
  verified: boolean;  // ID verification
  rating?: number;
  completedTrips: number;
  completedDeliveries: number;
}
```

### 8.5 API Client Changes

```typescript
// REMOVE these functions:
authApi.loginWithEmail()
authApi.registerWithEmail()
authApi.resetPassword()
verificationApi.sendOTP()
verificationApi.verifyOTP()

// ADD these functions:
authApi.googleSignIn(idToken: string): Promise<AuthResponse>
authApi.linkTelegram(telegramData: TelegramAuthData): Promise<User>
authApi.linkGoogle(idToken: string): Promise<User>

contactApi.getContactMethods(): Promise<ContactMethods>
contactApi.updateContactMethods(data: UpdateContactMethods): Promise<ContactMethods>

reportsApi.createReport(data: CreateReport): Promise<Report>
reportsApi.getMyReports(): Promise<Report[]>
```

---

## 9. Migration Plan

### Phase 1: Backend - Add Google Sign-In
**Estimated time: 2-4 hours**

- [ ] Add Google OAuth client library
- [ ] Create GoogleAuthService
- [ ] Add `/api/auth/google` endpoint
- [ ] Add google_id, google_email columns to users table
- [ ] Add identity_verified, identity_provider columns
- [ ] Test with new Google users
- [ ] Test creating account and logging in

### Phase 2: Frontend - Add Google Sign-In
**Estimated time: 2-3 hours**

- [ ] Add @react-oauth/google library
- [ ] Create GoogleSignInButton component
- [ ] Add Google button to login page
- [ ] Update AuthContext to handle Google auth
- [ ] Test full Google sign-in flow

### Phase 3: Backend - Contact Protection
**Estimated time: 3-4 hours**

- [ ] Add contact_telegram, contact_phone columns to trips table
- [ ] Add sender_contact_telegram, sender_contact_phone to item_requests table
- [ ] Add contact_revealed_at to item_requests table
- [ ] Modify trip/request DTOs to hide contact when appropriate
- [ ] Update create trip/request endpoints for new contact fields
- [ ] Add validation: at least one contact method required

### Phase 4: Frontend - Contact Protection
**Estimated time: 3-4 hours**

- [ ] Create ContactMethodSelector component
- [ ] Create ContactInfoDisplay component
- [ ] Update Create Trip page with contact selection
- [ ] Update Send Request page with contact selection
- [ ] Update Trip Detail page to show/hide contact
- [ ] Update Request Detail page to show/hide contact
- [ ] Show appropriate messages for hidden contact

### Phase 5: Backend - Report System
**Estimated time: 3-4 hours**

- [ ] Create reports table
- [ ] Create Report entity and repository
- [ ] Create ReportService
- [ ] Add report endpoints (create, get my reports)
- [ ] Add trust_score, report_count columns to users
- [ ] Implement trust score adjustment logic
- [ ] Add admin endpoints for report review

### Phase 6: Frontend - Report System
**Estimated time: 2-3 hours**

- [ ] Create ReportIssueModal component
- [ ] Add "Report Issue" button to request detail page
- [ ] Handle report submission
- [ ] Show success/error feedback

### Phase 7: Backend - Account Linking
**Estimated time: 2-3 hours**

- [ ] Add `/api/auth/link-telegram` endpoint
- [ ] Add `/api/auth/link-google` endpoint
- [ ] Handle duplicate account prevention
- [ ] Test linking flows

### Phase 8: Frontend - Account Linking & Settings
**Estimated time: 3-4 hours**

- [ ] Create ConnectedAccounts component
- [ ] Update Profile/Settings page
- [ ] Add contact methods management UI
- [ ] Add account linking UI
- [ ] Remove phone verification UI

### Phase 9: Remove Old Systems
**Estimated time: 2-3 hours**

- [ ] Remove email/password login from frontend
- [ ] Remove email/password endpoints from backend
- [ ] Remove phone OTP endpoints from backend
- [ ] Remove SmsService and related code
- [ ] Remove old verification UI components
- [ ] Clean up unused API client functions

### Phase 10: Database Cleanup (After Grace Period)
**Estimated time: 1 hour**

- [ ] Drop password_hash column
- [ ] Drop phone_verified column
- [ ] Drop old contact_method, contact_value columns
- [ ] Drop old sender_contact_method, sender_contact_value columns

### Phase 11: Existing User Migration
**Ongoing**

- [ ] Identify email-only users
- [ ] Send communication about linking Google/Telegram
- [ ] Provide grace period
- [ ] Handle edge cases

---

## 10. What Gets Removed

### 10.1 Backend Files to Delete

```
FILES TO DELETE:
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
src/main/java/com/habeshago/auth/
  - WebAuthService.java

src/main/java/com/habeshago/auth/dto/
  - WebLoginRequest.java
  - WebRegisterRequest.java

src/main/java/com/habeshago/verification/
  - SmsService.java (Twilio OTP service)

src/main/java/com/habeshago/verification/dto/
  - PhoneSendOtpRequest.java
  - PhoneVerifyOtpRequest.java
  - OtpResponse.java
```

### 10.2 Backend Endpoints to Remove

```
ENDPOINTS TO REMOVE:
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
POST /api/auth/web/login
POST /api/auth/web/register
POST /api/verification/phone/send
POST /api/verification/phone/verify
```

### 10.3 Database Columns to Drop

```
COLUMNS TO DROP (after migration grace period):
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
users.password_hash
users.phone_verified
users.email_verified
users.verification_status (if exists)

trips.contact_method (old enum)
trips.contact_value (old single value)

item_requests.sender_contact_method
item_requests.sender_contact_value
```

### 10.4 Frontend Files to Delete

```
COMPONENTS TO DELETE:
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
- EmailLoginForm
- EmailRegisterForm
- PasswordResetForm
- PhoneVerificationFlow
- OtpInput
- PhoneVerificationStatus

PAGES TO DELETE/MODIFY:
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
- Password reset pages (delete)
- Phone verification pages (delete)
- Login page (modify - remove email form)
- Register page (modify - remove email form)
```

### 10.5 API Client Functions to Remove

```
FUNCTIONS TO REMOVE:
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
authApi.loginWithEmail()
authApi.registerWithEmail()
authApi.resetPassword()
authApi.requestPasswordReset()
verificationApi.sendOTP()
verificationApi.verifyOTP()
verificationApi.getPhoneVerificationStatus()
```

### 10.6 Dependencies to Remove

```
BACKEND:
â”€â”€â”€â”€â”€â”€â”€â”€
- Twilio SDK (if only used for OTP)
- Password hashing libraries (if only used for email auth)

FRONTEND:
â”€â”€â”€â”€â”€â”€â”€â”€â”€
- Any OTP input libraries
- Password strength meter libraries
```

---

## 11. Cost Savings Summary

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                                                             â”‚
â”‚   COST COMPARISON                                           â”‚
â”‚                                                             â”‚
â”‚   BEFORE (Phone OTP):                                       â”‚
â”‚   â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€                                        â”‚
â”‚   - $0.01-0.05 per SMS via Twilio                           â”‚
â”‚   - 1,000 verifications/month = $10-50                      â”‚
â”‚   - 10,000 verifications/month = $100-500                   â”‚
â”‚   - Ongoing cost that scales with users                     â”‚
â”‚                                                             â”‚
â”‚   AFTER (Google + Telegram OAuth):                          â”‚
â”‚   â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€                         â”‚
â”‚   - $0 per authentication                                   â”‚
â”‚   - Unlimited verifications = $0/month                      â”‚
â”‚   - No scaling costs                                        â”‚
â”‚                                                             â”‚
â”‚   â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•                   â”‚
â”‚   SAVINGS: 100% of SMS verification costs                   â”‚
â”‚   â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•                   â”‚
â”‚                                                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## 12. Security Considerations

### 12.1 Identity Verification

- Google and Telegram both require phone verification to create accounts
- Users are "pre-verified" by these providers
- Harder to create fake accounts at scale than with email/password

### 12.2 Contact Protection

- Contact info only shared after mutual commitment (acceptance)
- Reduces spam and harvesting attacks
- Bad actors exposed on first transaction attempt

### 12.3 Report System

- Users can report unreachable or suspicious contacts
- Trust score tracks reliability over time
- Automatic flagging for review at thresholds
- Admin review for serious reports

### 12.4 Data Privacy

- Contact info not visible during browsing
- Users control which contact methods to share
- Phone numbers not verified = not stored in verified state

---

## 13. Success Metrics

After implementation, track:

1. **Authentication**
   - Sign-up conversion rate (should increase)
   - Time to first transaction (should decrease)
   - Drop-off at verification step (should be zero - no step)

2. **Trust & Safety**
   - Report rate per transaction
   - Successful contact rate after acceptance
   - User suspension rate

3. **Cost**
   - Monthly SMS costs (should be $0)
   - Infrastructure costs (minimal change)

4. **User Satisfaction**
   - Support tickets about verification (should decrease)
   - Support tickets about contact issues (monitor)

---

*Document Version: 1.0*
*Created: December 2024*
*Last Updated: December 2024*
